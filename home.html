<div id="content-header" class="ms-bgColor-themePrimary">
    <div class="icon">
        <img src="../Images/icon-header.png" height="80" width="80">
    </div>
    <div class="title">
        <span class="ms-font-xxl ms-fontWeight-regular">Delve Classifier</span>
    </div>
</div>

<div id="content-actions">
    <div class="padding">
        <div class="create-board">
            <div class="ms-SearchBox">
              <input class="ms-SearchBox-field" ng-keydown="vm.searchQueryKeyDown($event)" ng-model="vm.searchQuery">
              <label class="ms-SearchBox-label"><i class="ms-SearchBox-icon ms-Icon ms-Icon--pencil"></i>Find a board...</label>
              <button class="ms-SearchBox-closeButton" ng-disabled="vm.searchQuery.length < 1" ng-click="vm.findDocuments()"><i class="ms-Icon ms-Icon--plus"></i></button>
            </div>
        </div>
       
        <hr>
    </div>
</div>

    <div id="content-main">
        <div class="padding" ng-show="vm.hasSearched === true && vm.loading === false && vm.documents.length > 0">

            <div class="board opened selected" ng-repeat="document in vm.documents">
                <div class="board-name">
                    <span class="board-icon"><i class="ms-Icon ms-Icon--caretDownRight"></i></span>
                    <span class="board-title">{{::document.title}}</span>
                    <span class="board-action">
                        <i class="ms-Icon ms-Icon--link"></i>
                    </span>
                </div>
                <div class="board-files">
                    <div class="ms-Table">
                        <div class="ms-Table-row">
                            <span class="ms-Table-cell"><i class="ms-Icon ms-Icon--document"></i>Continent</span>
                            <span class="ms-Table-cell">
                                <button class="ms-Callout-close">
                                    <i class="ms-Icon ms-Icon--x"></i>
                                </button>
                            </span>
                        </div>
                        <div class="ms-Table-row">
                            <span class="ms-Table-cell"><i class="ms-Icon ms-Icon--document"></i>North America</span>
                            <span class="ms-Table-cell">
                                <button class="ms-Callout-close">
                                    <i class="ms-Icon ms-Icon--x"></i>
                                </button>
                            </span>
                        </div>
                        <div class="ms-Table-row">
                            <span class="ms-Table-cell"><i class="ms-Icon ms-Icon--document"></i>North America</span>
                            <span class="ms-Table-cell">
                                <button class="ms-Callout-close">
                                    <i class="ms-Icon ms-Icon--x"></i>
                                </button>
                            </span>
                        </div>
                        <div class="ms-Table-row">
                            <span class="ms-Table-cell"><i class="ms-Icon ms-Icon--document"></i>Florida</span>
                            <span class="ms-Table-cell">
                                <button class="ms-Callout-close">
                                    <i class="ms-Icon ms-Icon--x"></i>
                                </button>
                            </span>
                        </div>
                        <div class="ms-Table-row">
                            <span class="ms-Table-cell"><i class="ms-Icon ms-Icon--document"></i>State of Sau Paulo</span>
                            <span class="ms-Table-cell">
                                <button class="ms-Callout-close">
                                    <i class="ms-Icon ms-Icon--x"></i>
                                </button>
                            </span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="board">
                <div class="board-name">
                    <span class="board-icon"><i class="ms-Icon ms-Icon--caretRightOutline"></i></span>
                    <span class="board-title">Demo Presentation</span>
                    <span class="board-action">
                        <i class="ms-Icon ms-Icon--link"></i>
                    </span>
                </div>
            </div>

            <div class="board selected">
                <div class="board-name">
                    <span class="board-icon"><i class="ms-Icon ms-Icon--caretRightOutline"></i></span>
                    <span class="board-title">Test Inviroment</span>
                    <span class="board-action">
                        <i class="ms-Icon ms-Icon--link"></i>
                    </span>
                </div>
            </div>
        </div>
    </div>

    <div id="content-footer"></div>

    <!--script type="text/javascript" src="../Scripts/jquery.fabric.min.js"></script-->
    <script type="text/javascript">
    $(document).ready(function () {
        /*if ($.fn.TextField) {
            $('.ms-TextField').TextField();
        }*/

        if ($.fn.SearchBox) {
            $('.ms-SearchBox').SearchBox();
        }


        //TODO: Move to Controller 
        window.onBoardSelect = function(event) {
            event.preventDefault();
            $(this).parent().toggleClass('selected');
        };

         $('.board-name').click(onBoardSelect);

         window.onBoardIconClick = function(event) {
            event.preventDefault();
            var $board = $(this).parent().parent();

            if ($board.hasClass('opened')) {
                $(this).find('.ms-Icon').removeClass('ms-Icon--caretDownRight').addClass('ms-Icon--caretRightOutline');
                $board.find('.board-files').hide('fast');
            } else {
                $(this).find('.ms-Icon').removeClass('ms-Icon--caretRightOutline').addClass('ms-Icon--caretDownRight');
                $board.find('.board-files').show('fast');
            }

            $board.toggleClass('opened');
            $board.siblings('.board').find('.board-icon .ms-Icon').removeClass('ms-Icon--caretDownRight').addClass('ms-Icon--caretRightOutline');
            $board.siblings('.board').removeClass('opened');
            $board.siblings('.board').find('.board-files').hide('fast');
            return false;
        };

        $('.board-icon').click(onBoardIconClick);


    });

    //jQuery('.ms-TextField').TextField();
    //fabric.Spinner(jQuery('.mv-spinner')[0]).start();
</script>